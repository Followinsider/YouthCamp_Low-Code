(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aef0e874"],{"2c7d":function(t,e,n){"use strict";n.d(e,"a",(function(){return D})),n.d(e,"b",(function(){return T}));var o,i,a=n("5530"),c=n("ade3"),r=n("4360"),u=n("986e"),l=17,s=91,d=86,f=67,h=88,p=89,v=90,m=71,b=66,g=76,y=85,k=83,O=80,w=68,j=46,C=8,S=69,D=[66,67,68,69,71,76,80,83,85,86,88,89,90],E=(o={},Object(c["a"])(o,d,q),Object(c["a"])(o,p,H),Object(c["a"])(o,v,I),Object(c["a"])(o,k,J),Object(c["a"])(o,O,K),Object(c["a"])(o,S,R),o),x=Object(a["a"])(Object(a["a"])({},E),{},Object(c["a"])({},y,_)),$=Object(a["a"])(Object(a["a"])({},E),{},(i={},Object(c["a"])(i,f,L),Object(c["a"])(i,h,A),Object(c["a"])(i,m,F),Object(c["a"])(i,b,V),Object(c["a"])(i,w,P),Object(c["a"])(i,j,P),Object(c["a"])(i,C,P),Object(c["a"])(i,g,N),i)),M=!1;function T(){window.onkeydown=function(t){if(r["a"].state.isInEdiotr){var e=r["a"].state.curComponent,n=t.keyCode;n===l||n===s?M=!0:n==j||n==C&&e?(r["a"].commit("deleteComponent"),r["a"].commit("recordSnapshot")):M&&(!$[n]||e&&e.isLock?x[n]&&e&&e.isLock&&(t.preventDefault(),x[n]()):(t.preventDefault(),$[n]()))}},window.onkeyup=function(t){t.keyCode!==l&&t.keyCode!==s||(M=!1)},window.onmousedown=function(){r["a"].commit("setInEditorStatus",!1)}}function L(){r["a"].commit("copy")}function q(){r["a"].commit("paste"),r["a"].commit("recordSnapshot")}function A(){r["a"].commit("cut")}function H(){r["a"].commit("redo")}function I(){r["a"].commit("undo")}function F(){r["a"].state.areaData.components.length&&(r["a"].commit("compose"),r["a"].commit("recordSnapshot"))}function V(){var t=r["a"].state.curComponent;t&&!t.isLock&&"Group"==t.component&&(r["a"].commit("decompose"),r["a"].commit("recordSnapshot"))}function J(){u["a"].$emit("save")}function K(){u["a"].$emit("preview")}function P(){r["a"].state.curComponent&&(r["a"].commit("deleteComponent"),r["a"].commit("recordSnapshot"))}function R(){u["a"].$emit("clearCanvas")}function N(){r["a"].commit("lock")}function _(){r["a"].commit("unlock")}},"475a":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"edit"==t.editMode?n("div",{staticClass:"v-text",on:{keydown:t.handleKeydown,keyup:t.handleKeyup}},[n("div",{ref:"text",class:{"can-edit":t.canEdit},style:{verticalAlign:t.element.style.verticalAlign},attrs:{contenteditable:t.canEdit,tabindex:"0"},domProps:{innerHTML:t._s(t.element.propValue)},on:{dblclick:t.setEdit,paste:t.clearStyle,mousedown:t.handleMousedown,blur:t.handleBlur,input:t.handleInput}})]):n("div",{staticClass:"v-text preview"},[n("div",{style:{verticalAlign:t.element.style.verticalAlign},domProps:{innerHTML:t._s(t.element.propValue)}})])},i=[],a=n("5530"),c=(n("caad"),n("2532"),n("2f62")),r=n("2c7d"),u=n("b775"),l=n("728d"),s={extends:l["a"],props:{propValue:{type:String,required:!0,default:""},request:{type:Object,default:function(){}},element:{type:Object,default:function(){}},linkage:{type:Object,default:function(){}}},data:function(){return{canEdit:!1,ctrlKey:17,isCtrlDown:!1,cancelRequest:null}},computed:Object(a["a"])({},Object(c["b"])(["editMode"])),created:function(){this.request&&(this.cancelRequest=Object(u["a"])(this.request,this.element,"propValue","string"))},beforeDestroy:function(){this.request&&this.cancelRequest()},methods:{handleInput:function(t){this.$emit("input",this.element,t.target.innerHTML)},handleKeydown:function(t){this.canEdit&&t.stopPropagation(),t.keyCode==this.ctrlKey?this.isCtrlDown=!0:(this.isCtrlDown&&this.canEdit&&r["a"].includes(t.keyCode)||46==t.keyCode)&&t.stopPropagation()},handleKeyup:function(t){this.canEdit&&t.stopPropagation(),t.keyCode==this.ctrlKey&&(this.isCtrlDown=!1)},handleMousedown:function(t){this.canEdit&&t.stopPropagation()},clearStyle:function(t){t.preventDefault();var e=t.clipboardData,n=e.getData("text/plain")||"";""!==n&&document.execCommand("insertText",!1,n),this.$emit("input",this.element,t.target.innerHTML)},handleBlur:function(t){var e=this;this.element.propValue=t.target.innerHTML||"&nbsp;";var n=t.target.innerHTML;""!==n?this.element.propValue=t.target.innerHTML:(this.element.propValue="",this.$nextTick((function(){e.element.propValue="&nbsp;"}))),this.canEdit=!1},setEdit:function(){this.element.isLock||(this.canEdit=!0,this.selectText(this.$refs.text))},selectText:function(t){var e=window.getSelection(),n=document.createRange();n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n)}}},d=s,f=(n("f662"),n("2877")),h=Object(f["a"])(d,o,i,!1,null,"458f462c",null);e["default"]=h.exports},4795:function(t,e,n){var o=n("23e7"),i=n("da84"),a=n("2ba4"),c=n("1626"),r=n("342f"),u=n("f36a"),l=n("d6d6"),s=/MSIE .\./.test(r),d=i.Function,f=function(t){return function(e,n){var o=l(arguments.length,1)>2,i=c(e)?e:d(e),r=o?u(arguments,2):void 0;return t(o?function(){a(i,this,r)}:i,n)}};o({global:!0,bind:!0,forced:s},{setTimeout:f(i.setTimeout),setInterval:f(i.setInterval)})},"728d":function(t,e,n){"use strict";n("4160"),n("d3b7"),n("159b"),n("4de4");var o,i,a=n("986e"),c={props:{linkage:{type:Object,default:function(){}},element:{type:Object,default:function(){}}},created:function(){var t,e;null!==(t=this.linkage)&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.length&&(a["a"].$on("v-click",this.onClick),a["a"].$on("v-hover",this.onHover),a["a"].$on("v-dblclick",this.onDblclick))},mounted:function(){var t=this.linkage||{},e=t.data,n=t.duration;null!==e&&void 0!==e&&e.length&&(this.$el.style.transition="all ".concat(n,"s"))},beforeDestroy:function(){var t,e;null!==(t=this.linkage)&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.length&&(a["a"].$off("v-click",this.onClick),a["a"].$off("v-hover",this.onHover),a["a"].$on("v-dblclick",this.onDblclick))},methods:{changeStyle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){e.style.forEach((function(e){e.key&&(t.element.style[e.key]=e.value)}))}))},onClick:function(t){var e=this.linkage.data.filter((function(e){return e.id===t&&"v-click"===e.event}));this.changeStyle(e)},onDblclick:function(t){var e=this.linkage.data.filter((function(e){return e.id===t&&"v-dblclick"===e.event}));console.log("v-dblclick"),this.changeStyle(e)},onHover:function(t){var e=this.linkage.data.filter((function(e){return e.id===t&&"v-hover"===e.event}));this.changeStyle(e)}}},r=c,u=n("2877"),l=Object(u["a"])(r,o,i,!1,null,null,null);e["a"]=l.exports},"99af":function(t,e,n){"use strict";var o=n("23e7"),i=n("da84"),a=n("d039"),c=n("e8b5"),r=n("861d"),u=n("7b0b"),l=n("07fa"),s=n("8418"),d=n("65f0"),f=n("1dde"),h=n("b622"),p=n("2d00"),v=h("isConcatSpreadable"),m=9007199254740991,b="Maximum allowed index exceeded",g=i.TypeError,y=p>=51||!a((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),k=f("concat"),O=function(t){if(!r(t))return!1;var e=t[v];return void 0!==e?!!e:c(t)},w=!y||!k;o({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,o,i,a,c=u(this),r=d(c,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(a=-1===e?c:arguments[e],O(a)){if(i=l(a),f+i>m)throw g(b);for(n=0;n<i;n++,f++)n in a&&s(r,f,a[n])}else{if(f>=m)throw g(b);s(r,f++,a)}return r.length=f,r}})},af66:function(t,e,n){},b775:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));n("d3b7"),n("e9c4"),n("4160"),n("159b"),n("99af"),n("2ca0"),n("ac1f"),n("00b4"),n("4795");var o=n("5c96"),i=/(https?):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/;function a(t){return new Promise((function(e,n){var o=new XMLHttpRequest;o.timeout=6e3;var i=u(t.url);"GET"===t.method&&(i+="".concat(c(t.data))),o.open(t.method,i),o.ontimeout=n,o.onerror=n,o.onload=function(t){e(t.target.response)},o.send(JSON.stringify(r(t.data,t.paramType)))}))}function c(t){var e="";return t.forEach((function(t){t[0]&&(e+="&".concat(t[0],"=").concat(t[1]))})),e?"?"+e:""}function r(t,e){if(!t)return"";if("array"===e)return t;var n={};return t.forEach((function(t){t[0]&&(n[t[0]]=t[1])})),n}function u(t){return t.startsWith("http")?t:"https://"+t}function l(t,e,n){var c,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",l=0,s=null===t||void 0===t?void 0:t.url;return(s&&!/^\d+$/.test(s)||i.test(u(s)))&&(t.series?c=setInterval((function(){0!=t.requestCount&&t.requestCount<=l?clearInterval(c):(l++,a(t,r).then((function(t){e[n]="object"===r||"array"===r?JSON.parse(t):t}))["catch"]((function(t){return o["Message"].error((null===t||void 0===t?void 0:t.message)||t)})))}),t.time):a(t,r).then((function(t){e[n]="object"===r||"array"===r?JSON.parse(t):t}))["catch"]((function(t){return o["Message"].error((null===t||void 0===t?void 0:t.message)||t)}))),function(){clearInterval(c)}}},e9c4:function(t,e,n){var o=n("23e7"),i=n("da84"),a=n("d066"),c=n("2ba4"),r=n("e330"),u=n("d039"),l=i.Array,s=a("JSON","stringify"),d=r(/./.exec),f=r("".charAt),h=r("".charCodeAt),p=r("".replace),v=r(1..toString),m=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,y=function(t,e,n){var o=f(n,e-1),i=f(n,e+1);return d(b,t)&&!d(g,i)||d(g,t)&&!d(b,o)?"\\u"+v(h(t,0),16):t},k=u((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&o({target:"JSON",stat:!0,forced:k},{stringify:function(t,e,n){for(var o=0,i=arguments.length,a=l(i);o<i;o++)a[o]=arguments[o];var r=c(s,null,a);return"string"==typeof r?p(r,m,y):r}})},f662:function(t,e,n){"use strict";n("af66")}}]);
//# sourceMappingURL=chunk-aef0e874.f1cd86a0.js.map