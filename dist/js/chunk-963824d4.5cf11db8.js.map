{"version":3,"sources":["webpack:///./src/custom-component/Vboard/Component.vue?a408","webpack:///src/custom-component/Vboard/E:/Front-End/Github_DB/visual-drag-demo/src/custom-component/Vboard/Component.vue","webpack:///./src/custom-component/Vboard/Component.vue?4b29","webpack:///./src/custom-component/Vboard/Component.vue","webpack:///./src/custom-component/common/OnEvent.vue","webpack:///src/custom-component/common/E:/Front-End/Github_DB/visual-drag-demo/src/custom-component/common/OnEvent.vue","webpack:///./src/custom-component/common/OnEvent.vue?e874"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","ref","on","Mousedown","Mousemove","Mousestop","staticRenderFns","extends","OnEvent","props","propValue","type","Object","require","default","element","data","startPoint","x","undefined","y","painting","EraserEnabled","width","height","watch","getSize","changecolor","Eraser","Clear","mounted","canvas","$refs","ctx","getContext","strokeStyle","nowcolor","methods","e","offsetX","offsetY","clearRect","newPoint","drawLine","xStart","yStart","xEnd","yEnd","beginPath","lineWidth","moveTo","lineTo","stroke","closePath","fillStyle","fillRect","style","component","linkage","created","length","eventBus","$on","onClick","onHover","onDblclick","duration","$el","transition","beforeDestroy","$off","changeStyle","forEach","item","key","value","componentId","filter","id","event","console","log"],"mappings":"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","file":"js/chunk-963824d4.5cf11db8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"border\":\"1px solid black\"}},[_c('canvas',{ref:\"canvas\",on:{\"mousedown\":_vm.Mousedown,\"mousemove\":_vm.Mousemove,\"mouseup\":_vm.Mousestop}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport OnEvent from '../common/OnEvent'\r\n\r\nexport default {\r\n    extends: OnEvent,\r\n    props: {\r\n        propValue: {\r\n            type: Object,\r\n            require: true,\r\n            default: () => {},\r\n        },\r\n        element: {\r\n            type: Object,\r\n            default: () => {},\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            startPoint: { x: undefined, y: undefined },\r\n            painting: false,\r\n            EraserEnabled: false,\r\n            width: 0,\r\n            height: 0,\r\n        }\r\n    },\r\n    watch: {\r\n        'element.style.width': function () {\r\n            this.getSize()\r\n        },\r\n        'element.style.height': function () {\r\n            this.getSize()\r\n        },\r\n        'propValue.nowcolor': function () {\r\n            this.changecolor()\r\n        },\r\n        'propValue.eraser': function () {\r\n            this.Eraser()\r\n        },\r\n        'propValue.clear': function () {\r\n            this.Clear()\r\n        },\r\n    },\r\n    mounted() {\r\n        this.canvas = this.$refs.canvas\r\n        this.ctx = this.canvas.getContext('2d')\r\n        this.ctx.strokeStyle = this.propValue.nowcolor\r\n        this.getSize()\r\n    },\r\n    methods: {\r\n        Mousedown(e) {\r\n            let x = e.offsetX\r\n            let y = e.offsetY\r\n            this.painting = true\r\n            if (this.EraserEnabled) {\r\n                this.ctx.clearRect(x - 15, y - 15, 30, 30)\r\n            }\r\n            this.startPoint = { x, y }\r\n        },\r\n        \r\n        Mousemove(e) {\r\n            let x = e.offsetX\r\n            let y = e.offsetY\r\n            let newPoint = { x, y }\r\n            if (this.painting) {\r\n                if (this.EraserEnabled) {\r\n                    this.ctx.clearRect(x - 30, y - 30, 30, 30)\r\n                } else {\r\n                    this.drawLine(this.startPoint.x, this.startPoint.y, newPoint.x, newPoint.y)\r\n                }\r\n                this.startPoint = newPoint\r\n            }\r\n        },\r\n\r\n        Mousestop() {\r\n            this.painting = false\r\n        },\r\n\r\n        drawLine(xStart, yStart, xEnd, yEnd) {\r\n            // 开始绘制\r\n            this.ctx.beginPath()\r\n            this.ctx.lineWidth = 2\r\n            this.ctx.moveTo(xStart, yStart)\r\n            this.ctx.lineTo(xEnd, yEnd)\r\n            this.ctx.stroke()\r\n            this.ctx.closePath()\r\n        },\r\n\r\n        changecolor() {\r\n            this.ctx.strokeStyle = this.propValue.nowcolor\r\n            this.EraserEnabled = false\r\n        },\r\n\r\n        Eraser() {\r\n            this.EraserEnabled = !this.EraserEnabled\r\n        },\r\n        Clear() {\r\n            this.ctx.fillStyle = 'white'\r\n            this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height)\r\n        },\r\n        getSize() {\r\n            const { width, height } = this.element.style\r\n            this.canvas.width = width\r\n            this.canvas.height = height\r\n        },\r\n    },\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Component.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Component.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Component.vue?vue&type=template&id=556ed371&scoped=true&\"\nimport script from \"./Component.vue?vue&type=script&lang=js&\"\nexport * from \"./Component.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"556ed371\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./OnEvent.vue?vue&type=script&lang=js&\"\nexport * from \"./OnEvent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\nimport eventBus from '@/utils/eventBus'\r\n\r\nexport default {\r\n    props: {\r\n        linkage: {\r\n            type: Object,\r\n            default: () => {},\r\n        },\r\n        element: {\r\n            type: Object,\r\n            default: () => {},\r\n        },\r\n    },\r\n    created() {\r\n        if (this.linkage?.data?.length) {\r\n            eventBus.$on('v-click', this.onClick)\r\n            eventBus.$on('v-hover', this.onHover)\r\n            eventBus.$on('v-dblclick', this.onDblclick)\r\n        }\r\n    },\r\n    mounted() {\r\n        const { data, duration } = this.linkage || {}\r\n        if (data?.length) {\r\n            this.$el.style.transition = `all ${duration}s`\r\n        }\r\n    },\r\n    beforeDestroy() {\r\n        if (this.linkage?.data?.length) {\r\n            eventBus.$off('v-click', this.onClick)\r\n            eventBus.$off('v-hover', this.onHover)\r\n            eventBus.$on('v-dblclick', this.onDblclick)\r\n        }\r\n    },\r\n    methods: {\r\n        changeStyle(data = []) {\r\n            data.forEach(item => {\r\n                item.style.forEach(e => {\r\n                    if (e.key) {\r\n                        this.element.style[e.key] = e.value\r\n                    }\r\n                })\r\n            })\r\n        },\r\n\r\n        onClick(componentId) {\r\n            const data = this.linkage.data.filter(item => item.id === componentId && item.event === 'v-click')\r\n            this.changeStyle(data)\r\n        },\r\n\r\n        onDblclick(componentId) {\r\n            const data = this.linkage.data.filter(item => item.id === componentId && item.event === 'v-dblclick')\r\n            console.log('v-dblclick')\r\n            this.changeStyle(data)\r\n        },\r\n\r\n        onHover(componentId) {\r\n            const data = this.linkage.data.filter(item => item.id === componentId && item.event === 'v-hover')\r\n            this.changeStyle(data)\r\n        },\r\n    },\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnEvent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnEvent.vue?vue&type=script&lang=js&\""],"sourceRoot":""}